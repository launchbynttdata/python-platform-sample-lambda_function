name: Deploy Sandbox Environment

on:
    pull_request:
        branches: [ main ]
    push:
        branches: [ main ]
permissions:
    id-token: write
    contents: read

jobs:
    call-terragrunt-deploy:
        permissions:
            contents: read
            id-token: write
        uses: ./.github/workflows/terragrunt-deploy.yml
        with:
            tf_version: '1.5.5'
            tg_version: '0.54.11'
            environment: sandbox
            region: us-east-2
            env_id: '000'
        secrets: inherit